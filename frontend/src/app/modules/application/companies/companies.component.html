<div class="row">
    <div
        [ngClass]="{'col-xl-8 col-xxl-8 col-lg-8 col-md-8' : isSelectedCompany === true, 'col-xl-12 col-xxl-12 col-lg-12 col-md-12' : isSelectedCompany === false}">
        <div class="row sp-sm-15">
            <div class="col-xl-12">
                <div class="d-flex flex-wrap search-job-xl bg-white rounded py-3 px-md-3 px-0 mb-4 align-items-center">
                    <div class="col-xl-9 col-xxl-9 col-lg-9 d-flex flex-wrap">
                        <input class="form-control input-rounded mr-auto mb-2 mb-md-0" type="text"
                            placeholder="Search by Title, Company or any jobs keyword...">
                    </div>
                    <div class="col-xl-3 col-xxl-3 col-lg-3">
                        <a href="javascript:void(0);"
                            class="btn btn-primary rounded  mb-0 mb-md-0 mb-sm-2 float-right"><i
                                class="las la-search scale5 mr-3"></i>FIND</a>
                    </div>
                </div>
                

                <div class="d-flex flex-wrap align-items-center mb-4">
                    <div class="mr-auto mb-2 pr-2">
                        <h6 class="text-black fs-16 font-w600 mb-1">Showing {{itemsCount}} Companies Results</h6>
                        <span class="fs-14">Based your preferences</span>
                    </div>
                    <!-- <div class="custom-control custom-switch toggle-switch text-right mr-5 mb-2">
                        <input type="checkbox" class="custom-control-input" id="customSwitch12">
                        <label class="custom-control-label" for="customSwitch12">Salary</label>
                    </div> -->
                    <!-- <div class="dropdown custom-dropdown mb-0 mr-4 mt-3 mt-sm-0 mb-2">
                        <div class="btn border border-primary text-black rounded" data-toggle="dropdown">
                            <svg class="mr-2 scale5" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M10.2932 16.293L8.00016 18.5859V3C8.00016 2.73478 7.89481 2.48043 7.70727 2.29289C7.51973 2.10536 7.26538 2 7.00016 2C6.73495 2 6.48059 2.10536 6.29306 2.29289C6.10552 2.48043 6.00016 2.73478 6.00016 3V18.5859L3.70716 16.293C3.51856 16.1108 3.26596 16.01 3.00376 16.0123C2.74156 16.0146 2.49075 16.1198 2.30534 16.3052C2.11994 16.4906 2.01477 16.7414 2.01249 17.0036C2.01021 17.2658 2.111 17.5184 2.29316 17.707L6.29316 21.707C6.48086 21.8942 6.73513 21.9993 7.00021 21.9993C7.2653 21.9993 7.51956 21.8942 7.70726 21.707L11.7073 17.707C11.8901 17.5185 11.9914 17.2657 11.9894 17.0031C11.9874 16.7405 11.8822 16.4893 11.6965 16.3036C11.5109 16.118 11.2596 16.0128 10.997 16.0108C10.7345 16.0088 10.4816 16.1102 10.2932 16.293Z"
                                    fill="#40189D"></path>
                                <path
                                    d="M11.0002 6H21.0002C21.2655 6 21.5198 5.89464 21.7074 5.7071C21.8949 5.51957 22.0002 5.26521 22.0002 5C22.0002 4.73478 21.8949 4.48043 21.7074 4.29289C21.5198 4.10536 21.2655 4 21.0002 4H11.0002C10.735 4 10.4807 4.10536 10.2931 4.29289C10.1056 4.48043 10.0002 4.73478 10.0002 5C10.0002 5.26521 10.1056 5.51957 10.2931 5.7071C10.4807 5.89464 10.735 6 11.0002 6Z"
                                    fill="#40189D"></path>
                                <path
                                    d="M21.0002 8H11.0002C10.735 8 10.4807 8.10536 10.2931 8.29289C10.1056 8.48043 10.0002 8.73478 10.0002 9C10.0002 9.26521 10.1056 9.51957 10.2931 9.7071C10.4807 9.89464 10.735 10 11.0002 10H21.0002C21.2655 10 21.5198 9.89464 21.7074 9.7071C21.8949 9.51957 22.0002 9.26521 22.0002 9C22.0002 8.73478 21.8949 8.48043 21.7074 8.29289C21.5198 8.10536 21.2655 8 21.0002 8Z"
                                    fill="#40189D"></path>
                                <path
                                    d="M18.0002 12H11.0002C10.735 12 10.4807 12.1054 10.2931 12.2929C10.1056 12.4804 10.0002 12.7348 10.0002 13C10.0002 13.2652 10.1056 13.5196 10.2931 13.7071C10.4807 13.8947 10.735 14 11.0002 14H18.0002C18.2655 14 18.5198 13.8947 18.7074 13.7071C18.8949 13.5196 19.0002 13.2652 19.0002 13C19.0002 12.7348 18.8949 12.4804 18.7074 12.2929C18.5198 12.1054 18.2655 12 18.0002 12Z"
                                    fill="#40189D"></path>
                            </svg>
                            Option
                            <i class="las la-angle-down scale5 text-primary ml-3"></i>
                        </div>
                        <div class="dropdown-menu dropdown-menu-right">
                            <a class="dropdown-item" href="javascript:void(0);">Details</a>
                            <a class="dropdown-item text-danger" href="javascript:void(0);">Cancel</a>
                        </div>
                    </div> -->
                </div>
                <div class="d-flex mb-4 border-bottom flex-wrap align-items-center py-3 px-md-3 px-0 mb-4">
                    <div class="d-flex pb-3 flex-wrap align-items-center mr-auto">
                        <form [formGroup]="pageLengthForm" class="form-inline">
                            <div class="form-group">
                                <label>Page : </label>
                                <select class="form-control default-select" (change)="changePageLength($event)"
                                    formControlName="pageLength">
                                    <option *ngFor="let item of pageLengthList; let i = index" [value]="item">
                                        {{ item }}
                                    </option>
                                </select>
                            </div>
                        </form>
                    </div>
                    <div class="d-flex align-items-center pb-3 px-3">
                        <app-pagination [count]="itemsCount" [page]="itemsPage" [perPage]="itemsPerPage"
                            (changePage)="onChangePage($event)"></app-pagination>
                    </div>
                </div>
            </div>
        </div>
        <app-grid-company [items]="companies" [itemsCount]="itemsCount" (selectItem)="onSelectCompany($event)">
        </app-grid-company>
    </div>
    <div *ngIf="isSelectedCompany === true" class="col-xl-4 col-xxl-4 col-lg-4 col-md-4">
        <div class="row">
            <div class="col-xl-12">
                <button type="button" class="close" (click)="onCloseDetailCompany(isSelectedCompany)">&times;</button>
                <div class="card d-sm-flex flex-xl-column flex-md-row">
                    <div class="card-body border-bottom text-center col-xl-12 col-md-6">
                        <svg *ngIf="selectedCompany.avator == null" class="mb-4" width="134" height="134"
                            viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M0 11.6364C0 5.20978 5.20978 0 11.6364 0H68.3636C74.7902 0 80 5.20978 80 11.6364V68.3636C80 74.7902 74.7902 80 68.3636 80H11.6364C5.20978 80 0 74.7902 0 68.3636V11.6364Z"
                                fill="#D3D3D3" />
                            <path
                                d="M0 11.6364C0 5.20978 5.20978 0 11.6364 0H68.3636C74.7902 0 80 5.20978 80 11.6364V68.3636C80 74.7902 74.7902 80 68.3636 80H11.6364C5.20978 80 0 74.7902 0 68.3636V11.6364Z"
                                fill="#4B58CF" />
                            <path
                                d="M20.6216 20.6219C23.142 18.1015 26.1342 16.1022 29.4273 14.7381C32.7205 13.374 36.25 12.672 39.8145 12.672C43.3789 12.672 46.9085 13.374 50.2016 14.7381C53.4947 16.1022 56.4869 18.1015 59.0074 20.6219C61.5278 23.1424 63.5271 26.1346 64.8912 29.4277C66.2552 32.7208 66.9573 36.2504 66.9573 39.8148C66.9573 43.3793 66.2552 46.9088 64.8912 50.202C63.5271 53.4951 61.5278 56.4873 59.0074 59.0077L49.4109 49.4113C50.6711 48.1511 51.6708 46.6549 52.3528 45.0084C53.0348 43.3618 53.3859 41.5971 53.3859 39.8148C53.3859 38.0326 53.0348 36.2678 52.3528 34.6213C51.6708 32.9747 50.6711 31.4786 49.4109 30.2184C48.1507 28.9582 46.6546 27.9585 45.008 27.2765C43.3615 26.5944 41.5967 26.2434 39.8145 26.2434C38.0322 26.2434 36.2675 26.5944 34.6209 27.2765C32.9743 27.9585 31.4782 28.9582 30.218 30.2184L20.6216 20.6219Z"
                                fill="#8FD7FF" />
                            <path
                                d="M20.6216 59.0077C15.5313 53.9174 12.6716 47.0135 12.6716 39.8148C12.6716 32.6161 15.5313 25.7122 20.6215 20.6219C25.7118 15.5316 32.6157 12.6719 39.8144 12.6719C47.0132 12.6719 53.9171 15.5316 59.0073 20.6219L49.4109 30.2183C46.8658 27.6732 43.4138 26.2434 39.8144 26.2434C36.2151 26.2434 32.7631 27.6732 30.218 30.2183C27.6729 32.7635 26.243 36.2154 26.243 39.8148C26.243 43.4141 27.6729 46.8661 30.218 49.4112L20.6216 59.0077Z"
                                fill="white" />
                        </svg>
                        <img *ngIf="selectedCompany.avator != null"
                            [src]="configService.config.hostAddress + selectedCompany?.avator" width="134" height="134"
                            class="rounded mb-4" alt="Company Avatar">
                        <h4 class="fs-22 text-black font-w600 mb-1">{{selectedCompany?.name ?? "No Name"}}</h4>
                        <div class="row mt-5">
                            <div class="col-xl-12">
                                <div class="media">
                                    <svg class="mr-3 min-w46" width="46" height="46" viewBox="0 0 46 46" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <rect width="46" height="46" rx="14" fill="#ECECEC"></rect>
                                        <path
                                            d="M23 15C19.6227 15 16.875 17.7477 16.875 21.125C16.875 22.2061 17.1606 23.2689 17.701 24.1986C17.8269 24.4153 17.9677 24.6266 18.1196 24.8264L22.7339 31H23.2661L27.8804 24.8264C28.0322 24.6266 28.173 24.4154 28.299 24.1986C28.8394 23.2689 29.125 22.2061 29.125 21.125C29.125 17.7477 26.3773 15 23 15ZM23 23.1562C21.88 23.1562 20.9688 22.245 20.9688 21.125C20.9688 20.005 21.88 19.0938 23 19.0938C24.12 19.0938 25.0312 20.005 25.0312 21.125C25.0312 22.245 24.12 23.1562 23 23.1562Z"
                                            fill="#808080"></path>
                                    </svg>
                                    <div class="media-body text-left">
                                        <h4 class="fs-18 text-black font-w600 mb-0">{{selectedCompany?.region?.city ??
                                            "No City"}}, {{selectedCompany?.region?.country ?? "No Country"}}</h4>
                                        <span class="fs-14">Location</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-body col-xl-12 col-md-6 border-left ">
                        <h6 class="fs-16 text-black font-w600 mb-4">About Company</h6>
                        <p class="fs-14">{{selectedCompany?.description ?? ""}}</p>
                        <div class="d-flex justify-content-between flex-wrap pt-3">
                            <a class="btn btn-dark btn-rounded btn-sm mb-2" (click)="onMoreDetail()">More Detail</a>
                            <a class="btn btn-primary btn-rounded btn-sm mb-2" (click)="onShowVideoPlayerModal()">Company Video</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- The Modal -->
    <div class="modal fade" [ngClass]="{'show' : isPerDetail === true}" [ngStyle]="{'display' : isPerDetail == true ? 'block' : 'none'}">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">{{selectedCompany?.name}} - Detail Information</h4>
                    <button type="button" class="close" (click)="onCloseModal()">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body ">
                    <div class="card  flex-lg-column flex-md-row ">
                        <div class="card-body card-body  text-center border-bottom profile-bx">
                            <div class="profile-image mb-4">
                                <img [src]="(selectedCompany?.avator == undefined || selectedCompany?.avator != '') ? configService.config.hostAddress + selectedCompany?.avator : 'assets/images/1.jpg'" class="rounded-circle" width="120" height="120" alt="Company Logo">
                            </div>
                            <h4 class="fs-22 text-black mb-1">{{selectedCompany?.name}}</h4>
                            <p class="mb-4">Manager Name : <label class="text-info">{{selectedCompany?.account_manager_name?.toString()}}</label></p>
                            <!-- <div class="row">
                                <div class="col-6">
                                    <div class="p-2">
                                        <h4 class="fs-22 text-black font-w600">228</h4>
                                        <span class="text-black">Following</span>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="p-2">
                                        <h4 class="fs-22 text-black font-w600">4,842</h4>
                                        <span class="text-black">Followers</span>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                        <div class="card-body  border-left">
                            <div class="d-flex mb-3 align-items-center">
                                <a class="contact-icon mr-3" href="#"><i class="fa fa-phone" aria-hidden="true"></i></a>
                                <span class="text-black">{{selectedCompany?.phone_number?.phoneNumber.toString()}}</span>
                            </div>
                            <div class="d-flex mb-3 align-items-center">
                                <a class="contact-icon mr-3" href="#"><i class="las la-envelope"></i></a>
                                <span class="text-black">{{selectedCompany?.email?.toString()}}</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-sm" (click)="onCloseModal()">Close</button>
                </div>

            </div>
        </div>
    </div>
    <!-- The video player Modal -->
    <div class="modal fade" [ngClass]="{'show' : isVideoPlayerModal === true}" [ngStyle]="{'display' : isVideoPlayerModal == true ? 'block' : 'none'}">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">{{selectedCompany?.name}} - Video</h4>
                    <button type="button" class="close" (click)="onHideVideoPlayerModal()">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body ">
                    <h1>{{selectedCompany?.name}} Video </h1>
                    <app-vdo-player [currentVideo]="currentVideo"></app-vdo-player>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger btn-sm" (click)="onHideVideoPlayerModal()">Close</button>
                </div>

            </div>
        </div>
    </div>
    <div [ngClass]="{'modal-backdrop show' : isPerDetail || isVideoPlayerModal}"></div>
</div>
